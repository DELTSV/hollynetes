<app-modal id="userModal" (closed)="closed.emit()">
  <div
    *ngIf="user"
    class="w-10/12 h-[90%] md:h-3/4 sm:w-3/4 md:w-2/3 xl:w-3/6 top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 absolute text-base-800"
  >
    <div class="h-full w-full gap-5 flex flex-row">
      <div
        [@animateLeft]="{ value: '', params: { delay: 0 } }"
        class="bg-white overflow-hidden w-1/2 flex flex-col rounded-lg"
      >
        <div class="bg-blue-200 flex-shrink-0 mb-12 relative w-full h-36">
          <div class="flex flex-row justify-center absolute -bottom-1/4 w-full">
            <div
              class="h-32 border-2 border-white aspect-square rounded-full bg-center bg-cover"
              [ngStyle]="{
                'background-image': 'url(assets/img/avatar-blank.png)'
              }"
            ></div>
          </div>
        </div>
        <div class="flex flex-col items-center w-full">
          <h1 class="font-bold text-xl inline-block">{{ user.username }}</h1>
          <p class="text-xs">{{ user.email }}</p>
        </div>
        <div class="flex flex-col p-4 h-full w-full">
          <div
            class="bg-slate-100 p-2 rounded-lg mt-8 flex-row gap-2 flex w-full text-base-100"
          >
            <div class="flex flex-col items-center">
              <span class="font-bold text-xl whitespace-nowrap">{{ 21 }}</span>
              <span class="text-xs text-center">Films regardés</span>
            </div>
            <div class="flex flex-col items-center">
              <span class="font-bold text-xl whitespace-nowrap"
                >{{ 123 }}h</span
              >
              <span class="text-xs text-center">de visionnage</span>
            </div>
            <div class="flex flex-col items-center">
              <span class="font-bold text-xl whitespace-nowrap"
                >{{ 1 }} ans</span
              >
              <span class="text-xs text-center"
                >depuis la création du compte</span
              >
            </div>
          </div>
          <div
            class="bg-slate-100 p-2 rounded-lg mt-8 flex-col gap-2 flex w-full text-base-100"
          >
            <div>
              <span>Prénom: </span
              ><span class="font-bold ml-1">{{ user.firstname }}</span>
            </div>
            <div>
              <span>Nom de famille: </span
              ><span class="font-bold ml-1">{{ user.lastname }}</span>
            </div>
          </div>
          <div
            *ngIf="!editMode"
            class="mt-auto flex flex-row justify-end gap-4 h-12 w-full text-white"
          >
            <button
              (click)="editMode = true"
              class="h-full opacity-60 hover:opacity-100 aspect-square rounded bg-warning"
            >
              <fa-icon [icon]="modifyUserIcon"></fa-icon>
            </button>
            <button
              class="h-full opacity-60 hover:opacity-100 aspect-square rounded bg-error"
            >
              <fa-icon [icon]="deletedUserIcon"></fa-icon>
            </button>
          </div>
          <div
            *ngIf="editMode"
            class="mt-auto flex flex-row justify-end gap-4 h-12 w-full text-white"
          >
            <button
              class="h-full opacity-60 px-3 hover:opacity-100 rounded bg-success"
            >
              Valider
            </button>
            <button
              (click)="editMode = false"
              class="h-full opacity-60 px-3 hover:opacity-100 rounded bg-base-500"
            >
              Annuler
            </button>
          </div>
        </div>
      </div>
      <div class="flex flex-col w-full gap-5">
        <div
          [@animateTopRight]="{ value: '', params: { delay: 200 } }"
          class="bg-white p-5 w-full h-full rounded-lg"
        ></div>
        <div
          [@animateBottomRight]="{ value: '', params: { delay: 400 } }"
          class="bg-white p-5 w-full h-full rounded-lg"
        ></div>
      </div>
    </div>
  </div>
</app-modal>
